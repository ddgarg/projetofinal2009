<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui" xmlns:pretty="http://ocpsoft.com/prettyfaces">
<h:head>
	<title>Categoria</title>
	<h:outputStylesheet library="css" name="style.css" />
</h:head>
<h:body>

	<h:form prependId="false">
		<p:messages id="messages" showDetail="false" showSummary="true"></p:messages>

		<h2 class="titlePanel">Lista de Categorias</h2>
		
		<div id="divCenter" class="centerNotBorder">

				<p:dataTable id="tableCategorias" var="categoria" value="#{categoriaBean.listar()}"
				             emptyMessage="Não há produtos cadastrados." paginator="true" paginatorPosition="bottom" rows="15">
					
					<p:column headerText="Código" width="10%" style="text-align: center;">
						<h:outputText value="#{categoria.codigo}" />
					</p:column>

					<p:column headerText="Nome">
						<h:outputText value="#{categoria.nome}" width="20%" />
					</p:column>
					
					<p:column headerText="Descrição">
						<h:outputText value="#{categoria.descricao}" />
					</p:column>
					
					<p:column headerText="Opções" style="width: 65px;text-align: center;">
				        <p:commandButton id="editarCategoria" action="pretty:url-editar-categoria" icon="ui-icon-pencil"
				                         title="Editar" update="tableCategorias">
				            <f:setPropertyActionListener target="#{categoriaBean.codigo}" value="#{categoria.codigo}" />
				        </p:commandButton>
				        <p:commandButton id="excluirCategoria" action="pretty:url-excluir-categoria" icon="ui-icon-closethick"
				                         title="Editar" update="tableCategorias">
				            <f:setPropertyActionListener target="#{categoriaBean.codigo}" value="#{categoria.codigo}" />
				        </p:commandButton>
					</p:column>
					
				</p:dataTable>

		</div>
		
		<p:spacer height="10px" />
		
		<div id="buttonArea" class="buttonAreaCenter">
		    <p:commandButton id="btVoltar" title="Voltar" value="Voltar" action="pretty:url-home" ajax="true" />
		</div>
	</h:form>

</h:body>

</html>